<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>KAH</title>
  <meta name="description" content="Kaplan Asset Holdings — Sui Treasury Analytics." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0c0e11;
      --text:#b8dfff;
      --muted:#8ba0b8;
      --sui-blue:#00baff;
      --divider:#1d2733;
      --topbar-bg:#11161b;
      --topbar-text:#e9f8ff;
      --nav-pill:#141b21;
      --nav-pill-active:#1f2a33;
      --glow-strength:.45;
      --banner-bg:linear-gradient(90deg,#001b29 0%,#004a68 50%,#00baff 100%);
      --banner-text:#d7f6ff;
      --banner-text-hover:#ffffff;
    }

    *{box-sizing:border-box;margin:0;padding:0}
    html{font-size:16px}
    body{
      background:var(--bg);color:var(--text);
      font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      overflow-x:hidden;position:relative;
    }

    /* Glow */
    body::before{
      content:"";position:fixed;top:-180px;right:-180px;width:600px;height:600px;pointer-events:none;
      background:
        radial-gradient(40% 40% at 70% 30%, rgba(56,232,255,.25) 0%, rgba(56,232,255,0) 70%),
        radial-gradient(60% 60% at 30% 70%, rgba(0,128,255,.25) 0%, rgba(0,128,255,0) 70%);
      filter:blur(80px) saturate(130%);opacity:var(--glow-strength);z-index:0;
    }

    /* Banner */
    .banner{
      width:100%;background:var(--banner-bg);color:var(--banner-text);
      position:sticky;top:0;z-index:1000;
      box-shadow:0 4px 20px rgba(0,0,0,.4);
      border-bottom:1px solid rgba(0,186,255,.15);
    }
    .banner .inner{
      max-width:1200px;margin:0 auto;padding:8px 24px;
      display:flex;align-items:center;justify-content:flex-end;gap:18px;
    }
    .banner a{
      color:var(--banner-text);
      text-decoration:none;
      font-weight:700;
      text-transform:uppercase;
      font-size:.85rem;
      letter-spacing:.05em;
      transition:color .2s ease,opacity .2s ease;
      opacity:.9;
    }
    .banner a:hover{color:var(--banner-text-hover);opacity:1}
    .banner .dot{opacity:.5;user-select:none}

    /* Topbar */
    .topbar{width:100%;background:var(--topbar-bg);color:var(--topbar-text);position:relative;z-index:1}
    .topbar .inner{max-width:1200px;margin:0 auto;padding:12px 24px;display:flex;align-items:center;justify-content:space-between;gap:12px}

    /* Logo */
    .logo { display:flex; align-items:center; text-decoration:none; }
    .logo svg { height:32px; width:auto; display:block; }

    /* Nav */
    .nav{display:flex;gap:6px;flex-wrap:wrap}
    .nav a{
      color:#a3c7e5;text-decoration:none;font-weight:600;font-size:.9rem;
      padding:8px 12px;border-radius:999px;background:var(--nav-pill);
      border:1px solid rgba(255,255,255,.05);transition:all .2s ease;
    }
    .nav a:hover{background:var(--nav-pill-active)}
    .nav a.active{background:#00baff;color:#fff;border-color:transparent}

    /* Layout */
    .container{max-width:1200px;margin:0 auto;padding:64px 24px;text-align:center;position:relative;z-index:1}
    h1{font-size:2rem;font-weight:800;margin-bottom:12px;color:#eaf7ff}
    p.sub{color:var(--muted);font-size:1.125rem;margin-bottom:56px}
    .row{display:grid;grid-template-columns:repeat(3,1fr);align-items:start;justify-items:center;gap:0;margin-bottom:56px;position:relative}
    .row::before,.row::after{content:"";position:absolute;top:0;bottom:0;width:1px;background:var(--divider);opacity:.8}
    .row::before{left:33.33%}
    .row::after{left:66.66%}
    .kpi{text-align:center;padding:0 32px;max-width:360px}
    .title{color:var(--muted);font-size:.9rem;font-weight:700;text-transform:uppercase;letter-spacing:.3px;margin-bottom:10px}
    .value{font-size:3.25rem;font-weight:800;line-height:1.1;color:var(--sui-blue);text-shadow:0 0 8px rgba(0,186,255,.25)}
    .meta{margin-top:48px;display:flex;gap:12px;flex-wrap:wrap;justify-content:center}
    .chip{display:inline-flex;gap:8px;align-items:center;border:1px solid rgba(0,186,255,.3);padding:8px 12px;border-radius:999px;color:var(--muted);font-size:.8rem;background:rgba(0,30,45,0.6);box-shadow:0 0 12px rgba(56,232,255,.15);backdrop-filter:blur(6px)}
    footer{margin-top:64px;color:var(--muted);font-size:.9rem;text-align:center}

    /* Mobile */
    @media (max-width:640px){
      .banner .inner{justify-content:center;gap:14px;padding:8px 16px}
      .banner a{font-size:.8rem}
      .container{padding:40px 16px}
      h1{font-size:1.6rem}
      p.sub{margin-bottom:32px}
      .row{grid-template-columns:1fr;gap:0;margin-bottom:0}
      .row::before,.row::after{display:none}
      .kpi{width:100%;max-width:none;padding:18px 4px;margin:0;border-top:1px solid var(--divider)}
      .row:first-of-type .kpi:first-child,
      .row + .row .kpi:first-child {border-top:none}
      .title{margin-bottom:6px;font-size:.85rem}
      .value{font-size:2.35rem;line-height:1.05}
    }
  </style>
</head>
<body>

  <!-- Top Gradient Banner -->
  <div class="banner">
    <div class="inner">
      <a href="index.html">analytics</a>
      <span class="dot">•</span>
      <a href="company.html">company</a>
    </div>
  </div>

  <!-- Topbar with New Logo -->
  <header class="topbar">
    <div class="inner">
      <a class="logo" href="index.html" aria-label="KAH home">
        <svg viewBox="0 0 320 56" xmlns="http://www.w3.org/2000/svg" role="img">
          <defs>
            <linearGradient id="kahBlue" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0" stop-color="#64E6FF"/>
              <stop offset="1" stop-color="#00BAFF"/>
            </linearGradient>
            <filter id="softGlow" x="-50%" y="-50%" width="200%" height="200%">
              <feGaussianBlur in="SourceGraphic" stdDeviation="2" result="b"/>
              <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
            </filter>
          </defs>
          <!-- Wordmark -->
          <g fill="#FFFFFF" font-family="Inter, system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif"
             font-size="42" font-weight="800" letter-spacing="1">
            <text x="0"  y="41">K</text>
            <text x="33" y="41">A</text>
            <text x="68" y="41">H</text>
          </g>
          <!-- Vertical stacked arrows -->
          <g transform="translate(118,4)" fill="url(#kahBlue)" filter="url(#softGlow)">
            <path d="M0 18 L14 4 L28 18 L22 24 L14 16 L6 24 Z"/>
            <path d="M0 36 L14 22 L28 36 L22 42 L14 34 L6 42 Z"/>
          </g>
        </svg>
      </a>

      <nav class="nav">
        <a class="active" href="index.html">Overview</a>
        <a href="purchases.html">Purchases</a>
      </nav>
    </div>
  </header>

  <!-- Main Content -->
  <div class="container">
    <h1>Treasury Analytics</h1>
    <p class="sub">Sui token and GBP metrics with live pricing.</p>

    <div class="row">
      <div class="kpi"><div class="title">SUI Price (GBP)</div><div class="value" id="sui-price">—</div></div>
      <div class="kpi"><div class="title">SUI Holdings</div><div class="value" id="sui-holdings">—</div></div>
      <div class="kpi"><div class="title">SUI NAV (£)</div><div class="value" id="sui-nav">—</div></div>
    </div>

    <div class="row">
      <div class="kpi"><div class="title">SUI Gain QTD (tokens)</div><div class="value" id="sui-gain-qtd">—</div></div>
      <div class="kpi"><div class="title">SUI Gain YTD (tokens)</div><div class="value" id="sui-gain-ytd">—</div></div>
      <div class="kpi"><div class="title">SUI Gain 2025 (tokens)</div><div class="value" id="sui-gain-2025">—</div></div>
    </div>

    <div class="meta">
      <span class="chip"><span>As of</span><strong id="as-of">—</strong></span>
      <span class="chip" id="price-status"><span>Status</span><strong>Loading…</strong></span>
    </div>

    <footer><p>Prices update automatically via CoinGecko (GBP).</p></footer>
  </div>

  <script>
  (function(){
    const CFG = {
      locale: "en-GB",
      pricePollEveryMs: 60000,
      suiHoldings: 5642,
      suiGainQTD: 5642,
      suiGainYTD: 5642,
      suiGain2025: 5642
    };
    const nfInt = new Intl.NumberFormat(CFG.locale,{maximumFractionDigits:0});
    const nf2   = new Intl.NumberFormat(CFG.locale,{minimumFractionDigits:2,maximumFractionDigits:2});
    const set   = (id,txt)=>{const el=document.getElementById(id);if(el)el.textContent=txt};
    let suiPriceGBP=null;

    function renderAll(){
      set("sui-holdings", nfInt.format(CFG.suiHoldings));
      set("sui-gain-qtd", nfInt.format(CFG.suiGainQTD));
      set("sui-gain-ytd", nfInt.format(CFG.suiGainYTD));
      set("sui-gain-2025", nfInt.format(CFG.suiGain2025));
      if(suiPriceGBP){
        set("sui-price","£"+nf2.format(suiPriceGBP));
        const nav = CFG.suiHoldings * suiPriceGBP;
        set("sui-nav","£"+nf2.format(nav));
      }
    }

    async function fetchPrice(){
      const status=document.getElementById("price-status");
      try{
        const res=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=sui&vs_currencies=gbp",{cache:"no-store"});
        const data=await res.json();
        const price=data?.sui?.gbp;
        if(typeof price!=="number")throw 0;
        suiPriceGBP=price;
        if(status)status.innerHTML="<span>Status</span><strong>Live</strong>";
        renderAll();
      }catch(e){
        if(status)status.innerHTML="<span>Status</span><strong>Error</strong>";
      }
    }

    set("as-of",new Date().toLocaleString(undefined,{dateStyle:"medium",timeStyle:"short"}));
    renderAll(); fetchPrice(); setInterval(fetchPrice,CFG.pricePollEveryMs);
  })();
  </script>
</body>
</html>
